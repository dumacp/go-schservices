syntax = "proto3";
package messages;

option go_package = "github.com/dumacp/go-schservices/api/services";

enum state {
	STARTED = 0;
	ENDED = 1;
	ABORTED = 2;
	CANCELLED = 3;
	READY_TO_START = 4;
	WAITING_TO_ARRIVE_TO_STARTING_POINT = 5;
	SCHEDULED = 6;
}

message itinerary {
	string id = 1;
	string name = 2;
}

message route {
	string id = 1;
	string code = 2;
	string name = 3;
}

message driver {
	string id = 1;
	string fullname = 2;
}

message scheduleService {
            string id = 1;
            state state = 2;
            string organizationId = 3;
            int64 scheduleDateTime = 4;  //Unix Seconds 
            itinerary itinerary = 5;
            route route = 6;
            driver driver = 7;
            repeated string driverIds = 8;
}

message snapshot {
	string version = 1;	
	repeated scheduleService scheduleServices = 2;
}

message mods {
    string version = 1;
    repeated scheduleService additions = 2;
    repeated scheduleService updates = 3;
    repeated string removals = 4;
}